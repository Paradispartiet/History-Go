/* ===================================================== */
/* HISTORY GO – THEME.CSS – STRUKTUR OG SEKSJONER        */
/* ===================================================== */
/*
1. TEMA OG VARIABLER
2. BASIS OG TYPOGRAFI
3. KART OG NAVIGASJON
4. OVERORDNEDE UI-ELEMENTER (header, main, toast)
5. PANELER, KORT, KNAPPER, BADGES
6. KOMPONENTER
   6.1 Place Card
   6.2 Place Overlay
   6.3 Sheets og Modaler
   6.4 Quiz
   6.5 Merker / Badges
7. TILSTANDER OG EFFEKTER
8. RESPONSIVE JUSTERINGER
9. STØRRE LUKKEKNAPPER MED HOVER-EFFEKT
*/

/* ===================================================== */
/* 1. TEMA OG VARIABLER                                  */
/* ===================================================== */
:root{
  --bg: #0a1929;
  --panel-bg: rgba(13,27,42,.86);
  --panel-border: rgba(255,255,255,.06);
  --text: #dde7f5;
  --muted: #97a6bc;
  --primary: #1976d2;
  --ok: #2ecc71;
  --warn: #ffb703;

  --hist: #1976d2;
  --kult: #e63946;
  --sport: #2a9d8f;
  --natur: #4caf50;
  --urban: #ffb703;
  --viten: #9b59b6;

  --card-radius: 12px;
  --shadow: 0 10px 24px rgba(0,0,0,.35);
}

/* ===================================================== */
/* 2. BASIS OG TYPOGRAFI                                 */
/* ===================================================== */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  background:var(--bg);
  color:var(--text);
}
.muted{color:var(--muted)}

/* ===================================================== */
/* 3. KART OG NAVIGASJON                                 */
/* ===================================================== */
#map{
  position:fixed;inset:0;z-index:0;
  filter:none;
}
.map-controls{
  position:fixed;right:12px;bottom:12px;z-index:12;
  display:grid;gap:8px;
}
.map-controls button{
  width:44px;height:44px;border-radius:999px;
  border:1px solid var(--panel-border);
  background:rgba(20,30,45,.9);color:#fff;
  box-shadow:var(--shadow);
}
#btnExitMap{display:none}

/* ===================================================== */
/* 4. OVERORDNEDE UI-ELEMENTER (header, main, toast)     */
/* ===================================================== */
#toast{
  position:fixed;top:14px;left:50%;transform:translateX(-50%);
  background:rgba(0,0,0,.7);color:#fff;
  padding:8px 14px;border-radius:999px;
  font-weight:600;display:none;z-index:15;
}
header{
  position:relative;z-index:5;
  display:flex;align-items:center;justify-content:space-between;
  padding:16px 14px;
  background:linear-gradient(180deg,rgba(10,25,41,.95),rgba(10,25,41,.65) 70%,transparent);
}
.brand{font-weight:800;letter-spacing:.3px}
.actions{display:flex;gap:10px;align-items:center}
.toggle{display:flex;gap:6px;align-items:center;font-size:.9rem}
.toggle input{accent-color:var(--primary)}
main{position:relative;z-index:5;padding:8px 10px 44px}

/* ===================================================== */
/* 5. PANELER, KORT, KNAPPER, BADGES                     */
/* ===================================================== */
.panel{
  background:var(--panel-bg);
  border:1px solid var(--panel-border);
  border-radius:var(--card-radius);
  padding:10px;margin:10px 0;
  box-shadow:var(--shadow);
  backdrop-filter:blur(2px);
}
.panel h2{
  display:flex;align-items:center;justify-content:space-between;
  margin:6px 2px 12px;font-size:1rem;
}

/* Kort & chips */
.cards{display:grid;gap:10px}
.card{
  background:rgba(255,255,255,.02);
  border:1px solid var(--panel-border);
  border-radius:12px;
  padding:12px;
}
.card .name{font-weight:700}
.card .meta{color:var(--muted);font-size:.9rem;margin:2px 0 4px}
.card .row{display:flex;gap:8px;align-items:center}
.card .row.between{justify-content:space-between}

/* Chips / badges */
.chips{display:flex;flex-wrap:wrap;gap:8px}
.badge{
  --dot:var(--hist);
  display:inline-flex;align-items:center;gap:6px;
  padding:6px 10px;border-radius:999px;
  border:1px solid var(--panel-border);
  background:rgba(255,255,255,.02);
  font-size:.9rem;
}
.badge .i{
  width:24px;height:24px;border-radius:999px;
  display:inline-block;
  border:2px solid rgba(0,0,0,.55);
}

/* Knapper */
button{cursor:pointer;border:none}
.primary{background:var(--primary);color:#fff;padding:10px 14px;border-radius:10px}
.secondary{background:rgba(255,255,255,.08);color:#fff;padding:10px 14px;border-radius:10px;border:1px solid var(--panel-border)}
.ghost{background:transparent;color:#fff;padding:8px 12px;border-radius:999px;border:1px solid var(--panel-border)}
.icon{width:36px;height:36px;border-radius:999px;background:rgba(255,255,255,.08);color:#fff;border:1px solid var(--panel-border)}
.chip.ghost{font-size:.9rem}

/* ===================================================== */
/* 6. KOMPONENTER (forkortet)                            */
/* ===================================================== */
/* ... eksisterende komponentkode beholdes her ... */

/* ===================================================== */
/* 7. TILSTANDER OG EFFEKTER                             */
/* ===================================================== */
body.map-only header,
body.map-only main{display:none}
body.map-only #btnExitMap{display:block}

@keyframes slideUp{
  from{transform:translateY(100%);opacity:0}
  to{transform:none;opacity:1}
}
@keyframes badgePulse{
  0%{transform:scale(1);box-shadow:0 0 0 0 rgba(255,255,255,0)}
  30%{transform:scale(1.05);box-shadow:0 0 10px 3px rgba(255,255,255,0.15)}
  60%{transform:scale(1.02);box-shadow:0 0 8px 2px rgba(255,255,255,0.1)}
  100%{transform:scale(1);box-shadow:0 0 0 0 rgba(255,255,255,0)}
}
.badge-pulse{animation:badgePulse 1.2s ease-out;border-color:var(--yellow)}

/* ===================================================== */
/* 8. RESPONSIVE JUSTERINGER                              */
/* ===================================================== */
@media (max-width:720px){
  .place-overlay-content{grid-template-columns:1fr;height:100%;overflow-y:auto}
  .place-overlay{height:80vh}
}

/* ===================================================== */
/* 9. STØRRE LUKKEKNAPPER MED HOVER-EFFEKT               */
/* ===================================================== */
.icon {
  width: 52px;
  height: 52px;
  font-size: 1.8rem;
  line-height: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.15s ease, transform 0.1s ease;
}

.icon:hover {
  background: rgba(255,255,255,0.15);
  transform: scale(1.05);
}

.close-overlay,
.sheet-close,
#quizClose,
#pcClose,
#btnExitMap {
  font-size: 2rem !important;
  width: 56px !important;
  height: 56px !important;
  border: 1px solid var(--panel-border);
  border-radius: 999px;
  color: #fff;
  background: rgba(255,255,255,.08);
  cursor: pointer;
  transition: background 0.15s ease, transform 0.1s ease;
}

.close-overlay:hover,
.sheet-close:hover,
#quizClose:hover,
#pcClose:hover,
#btnExitMap:hover {
  background: rgba(255,255,255,.15);
  transform: scale(1.08);
}

@media (max-width: 720px) {
  .icon,
  .close-overlay,
  .sheet-close,
  #quizClose,
  #pcClose,
  #btnExitMap {
    width: 64px !important;
    height: 64px !important;
    font-size: 2.2rem !important;
  }
}
