/* ====== GLOBAL ====== */
html, body { margin:0; padding:0; height:100vh; background:#0b1623; color:#e9eef6; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; }
*{ box-sizing:border-box; }
:root{
  --bg: #0d1b2a;
  --panel: rgba(13,27,42,0.88);     /* svakt gjennomskinnelig p√• forsiden */
  --solid: #0f1c2b;                  /* helt opak for sheets/modaler */
  --bord: #1e3142;
  --muted:#b8c4d3;
  --blue:#1976d2;
  --gold:#ffb703;
  --red:#e63946;
  --green:#2a9d8f;
  --viten:#9b59b6;
}

/* ====== KART ====== */
#map{
  position:fixed; inset:0; z-index:0;
  filter: saturate(1.1) brightness(1.05) blur(1.5px);
  opacity:.98;
}
.map-only #map{ filter:none; opacity:1; }

/* ====== HEADER ====== */
header{
  position:relative; z-index:2;
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 14px;
  background: rgba(11,22,35,.65);
  backdrop-filter: blur(6px);
  border-bottom: 1px solid var(--bord);
}
.brand{ display:flex; gap:10px; align-items:center; }
.logo{ font-size:18px; }
h1{ margin:0; font-weight:900; font-size:18px; }
.pill-btn{
  display:inline-flex; gap:6px; align-items:center;
  background:#121f30; border:1px solid var(--bord); color:#e9eef6;
  padding:8px 12px; border-radius:999px; font-weight:800; cursor:pointer;
}
.pill-btn .ico{ opacity:.9 }

/* ====== MAIN ====== */
main{
  position:relative; z-index:1;
  padding:12px;
  display:grid; gap:12px;
}
.section{ width:100%; }
.panel{
  background: var(--panel);
  border:1px solid var(--bord);
  border-radius:16px;
  padding:12px;
  box-shadow: 0 10px 28px rgba(0,0,0,.25);
}
.title{ display:inline-flex; align-items:center; gap:8px; font-weight:900; }
.title .ico{ font-size:16px; }
.underline{ position:relative; padding-bottom:6px; }
.underline::after{
  content:""; position:absolute; left:0; right:0; bottom:0; height:3px; border-radius:3px; opacity:.75;
}
.underline-blue::after{ background:var(--blue); }
.underline-gold::after{ background:var(--gold); }
.underline-red::after{  background:var(--red); }
.underline-soft::after{ background:#9aa9bd; }
.underline-purple::after{ background:var(--viten); }

.row{ display:flex; align-items:center; gap:10px; }
.between{ justify-content:space-between; }
.right{ justify-content:flex-end; }
.muted{ color:var(--muted); }
.small{ font-size:13px; color:var(--muted); }

/* ====== CARDS ====== */
.card{
  background:#162337; border:1px solid var(--bord);
  border-radius:14px; padding:12px; margin:10px 0;
}
.name{ font-weight:900; }
.meta{ color:#c6d0dd; margin-top:2px; }
.desc{ color:#e9eef6; margin-top:6px; }
.dist{ color:var(--gold); font-weight:900; }

/* ====== Buttons ====== */
.primary-btn, .ghost-btn{
  border-radius:999px; padding:8px 12px; font-weight:900; cursor:pointer;
}
.primary-btn{ background:var(--blue); color:#fff; border:0; }
.ghost-btn{ background:transparent; border:1px solid var(--bord); color:#e9eef6; }

/* ====== Grid / Badges ====== */
.grid{ display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:8px; }
.badge{
  display:inline-flex; align-items:center; gap:8px;
  background:#152437; border:1px solid var(--bord); color:#e9eef6;
  padding:8px 10px; border-radius:12px; font-weight:800; min-height:40px;
}
.badge .i{ width:10px; height:10px; border-radius:999px; display:inline-block; }
.badge.kult .i{ background:var(--red); }
.badge.urban .i{ background:var(--gold); }
.badge.sport .i{ background:var(--green); }
.badge.natur .i{ background:#4caf50; }
.badge.viten .i{ background:var(--viten); }
.badge.hist .i{ background:#1976d2; }

/* ====== PLACE CARD ====== */
#placeCard{
  position:fixed; left:0; right:0; bottom:12px; z-index:999;
  margin:0 12px;
  background:var(--solid); border:1px solid var(--bord);
  border-radius:16px; padding:12px; display:none;
}
#placeCard[aria-hidden="false"]{ display:block; }
.pc-head{ display:flex; align-items:center; justify-content:space-between; gap:10px; }
.pc-title{ font-weight:900; }
.pc-meta{ color:var(--muted); }
.pc-desc{ margin-top:8px; }
.pc-actions{ margin-top:10px; display:flex; gap:10px; justify-content:flex-end; }
.pc-close{
  border:0; width:32px; height:32px; border-radius:999px; cursor:pointer; color:#fff;
  background:#0d1b2a;
}

/* ====== SHEETS (helt opake) ====== */
.sheet{
  position:fixed; inset:0; z-index:9998; background: rgba(0,0,0,.6); display:none;
}
.sheet[aria-hidden="false"]{ display:block; }
.sheet-card{
  position:absolute; left:0; right:0; bottom:0; border-top-left-radius:16px; border-top-right-radius:16px;
  background:var(--solid); border:1px solid var(--bord); padding:12px; max-height:76vh; overflow:auto;
}
.sheet-head{ display:flex; align-items:center; justify-content:space-between; }
.sheet-title{ font-weight:900; display:flex; align-items:center; gap:8px; }
.sheet-close{ border:0; width:32px; height:32px; border-radius:999px; background:#0d1b2a; color:#fff; cursor:pointer; }

/* ====== QUIZ (helt opak) ====== */
#quizModal{
  position:fixed; inset:0; z-index:9999; background: rgba(0,0,0,.6); display:none;
}
#quizModal[aria-hidden="false"]{ display:block; }
.quiz-card{
  background:var(--solid); border:1px solid var(--bord); border-radius:16px;
  width:min(560px, calc(100% - 24px)); margin:48px auto; padding:12px;
}
.quiz-head{ display:flex; align-items:center; justify-content:space-between; }
.quiz-title{ font-weight:900; }
.quiz-close{ border:0; width:32px; height:32px; border-radius:999px; background:#0d1b2a; color:#fff; cursor:pointer; }
.quiz-q{ margin-top:8px; font-weight:700; }
.quiz-choices{ display:grid; gap:8px; margin-top:10px; }
.quiz-choices button{ border:1px solid var(--bord); background:#162337; color:#e9eef6; padding:10px; border-radius:12px; cursor:pointer; text-align:left; }
.quiz-choices button.correct{ border-color:#00e676; box-shadow:0 0 0 2px rgba(0,230,118,.25) inset; }
.quiz-choices button.wrong{ border-color:#ff5252; box-shadow:0 0 0 2px rgba(255,82,82,.2) inset; }
.quiz-progress{ color:var(--muted); margin-top:6px; }
.quiz-feedback{ margin-top:8px; font-weight:900; }

/* ====== MAP CONTROLS ====== */
.map-exit{
  position:fixed; top:12px; left:12px; z-index:10000; display:none;
  background:#0d1b2a; color:#fff; border:1px solid var(--bord); border-radius:999px; width:40px; height:40px; cursor:pointer;
}
.map-center{
  position:fixed; bottom:84px; right:12px; z-index:10000; display:none;
  background:#0d1b2a; color:#fff; border:1px solid var(--bord); border-radius:999px; width:44px; height:44px; cursor:pointer; font-size:18px;
}
.map-only header, .map-only main{ display:none; }
.map-only .map-exit, .map-only .map-center{ display:block; }

/* ====== TOAST ====== */
#toast{
  position:fixed; left:50%; top:12px; transform:translateX(-50%);
  background:#1976d2; color:#fff; padding:8px 12px; border-radius:10px; font-weight:900; display:none; z-index:10001;
}
