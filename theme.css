:root{
  --bg:#06121a;
  --card:rgba(9,20,30,.78);
  --muted:#9fb3c7;
  --line:#1e2b36;
  --pill:#0b2a3d;
  --accent:#7cc0ff;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:#edf6ff; background:var(--bg); font:16px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
}

/* Map */
#map{position:fixed; inset:0; z-index:0;}
.map-controls{position:fixed; right:12px; bottom:12px; z-index:20; display:flex; flex-direction:column; gap:8px}
.map-controls button{
  width:44px; height:44px; border-radius:999px; background:rgba(9,20,30,.9); color:#fff; border:1px solid rgba(255,255,255,.15);
}
body:not(.map-only) #btnExitMap{display:none}

/* Layout over map */
header, main > section, .card, .sheet .sheet-body, #placeCard .pc-body, #quizModal .quiz-body{
  background:var(--card);
  border:1px solid rgba(120,160,200,.12);
  backdrop-filter: blur(2px) saturate(1.1);
  -webkit-backdrop-filter: blur(2px) saturate(1.1);
  border-radius:14px;
}
header{position:relative; z-index:10; margin:12px; padding:12px 14px; display:flex; align-items:center; justify-content:space-between}
h1{margin:0; font-size:20px}
.header-actions{display:flex; align-items:center; gap:10px}
.toggle span{opacity:.8}
.pill{padding:8px 12px; border-radius:999px; background:var(--pill); color:#cfe9ff; border:1px solid rgba(255,255,255,.15)}
main{position:relative; z-index:10; padding:0 12px 100px}
main > section{padding:12px 12px; margin:12px 0}

.stack{display:grid; gap:12px}
.row{display:flex; gap:10px; align-items:center}
.row.right{justify-content:flex-end}
.row.between{justify-content:space-between}

.card{padding:12px}
.card .name{font-weight:700}
.card .meta{color:var(--muted); font-size:13px}
.card .desc{opacity:.9}
.muted{color:var(--muted)}
.ghost-btn,.primary-btn,.pill{
  cursor:pointer; border:none; outline:none;
}
.ghost-btn{background:transparent; color:#cfe9ff; border:1px solid rgba(255,255,255,.2); padding:8px 12px; border-radius:999px}
.primary-btn{background:#ffd166; color:#111; padding:8px 12px; border-radius:10px}
#toast{position:fixed; left:50%; transform:translateX(-50%); top:12px; z-index:30; display:none; background:#111a; padding:8px 12px; border-radius:10px}

/* Place card */
#placeCard{position:fixed; left:0; right:0; bottom:0; z-index:25; padding:10px; display:grid}
#placeCard[aria-hidden="true"]{display:none}
.pc-body{padding:12px}
.pc-x{position:absolute; right:14px; top:10px; background:transparent; color:#fff; border:0; font-size:24px}
.pc-actions{display:flex; gap:10px; flex-wrap:wrap}

/* Sheets */
.sheet{position:fixed; left:0; right:0; bottom:0; z-index:26; padding:10px; display:grid}
.sheet[aria-hidden="true"]{display:none}
.sheet-body{padding:10px}
.sheet-head{display:flex; align-items:center; justify-content:space-between}
.sheet-close{background:transparent; border:0; color:#fff; font-size:22px}

/* Quiz */
#quizModal{position:fixed; inset:0; display:grid; place-items:center; z-index:27}
#quizModal[aria-hidden="true"]{display:none}
.quiz-body{max-width:520px; width:92%; padding:16px}
.choices{display:grid; gap:10px}
.choices button{padding:10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,.2); background:#11212b; color:#fff}
.choices button.correct{background:#1db954}
.choices button.wrong{background:#b91d1d}

/* Chips / badges (sm√• ikoner) */
.chips{display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:8px}
.badge{display:inline-flex; align-items:center; gap:6px; padding:6px 8px; border-radius:999px; font-size:12px; line-height:1; background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12)}
.badge .i{width:10px;height:10px;border-radius:999px;display:inline-block}

/* Map-only mode */
body.map-only header, body.map-only main{display:none}
