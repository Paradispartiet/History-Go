:root{
  --bg:#0b1320;
  --card: rgba(15,22,33,.86);         /* gjennomsiktig kort */
  --card-border: rgba(255,255,255,.06);
  --text:#e8edf7;
  --muted:#9fb0c3;
  --accent:#1976d2;
}

html,body{height:100%;}
body{
  margin:0; color:var(--text); background:var(--bg); font:16px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Arial;
}

/* Kart bak alt innhold */
#map{
  position:fixed; inset:0; z-index:0;
}

/* Paneler oppå kartet med “glass” */
header, main, #placeCard, .sheet-card, .quiz-card{
  backdrop-filter: blur(6px);
}
header{
  position:sticky; top:0; z-index:5;
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 16px;
  background:linear-gradient( to bottom, rgba(11,19,32,.92), rgba(11,19,32,.75) );
}
h1{margin:0; font-size:18px;}
.link-btn{background:#0e1a2d;border:1px solid var(--card-border);color:#cfe6ff;padding:8px 10px;border-radius:10px;}

main{
  position:relative; z-index:1; padding:12px 12px 72px;
}
.section{
  background:var(--card); border:1px solid var(--card-border);
  border-radius:16px; padding:14px; margin:10px 0;
}
.title{font-weight:700; margin-bottom:10px;}
.underline{display:inline-block; position:relative; padding-bottom:6px;}
.underline::after{content:""; position:absolute; left:0; bottom:0; height:4px; width:90px; border-radius:3px; opacity:.8;}
.underline-blue::after{background:#4895ef;}
.underline-gold::after{background:#f2c94c;}
.underline-soft::after{background:#93c5fd;}
.underline-red::after{background:#ff6b6b;}

.row{display:flex; gap:10px; align-items:center;}
.between{justify-content:space-between;}
.right{justify-content:flex-end;}
.muted{color:var(--muted);}

.grid{display:grid; gap:10px;}
.grid-3{grid-template-columns:repeat(3,minmax(0,1fr));}

.card{
  background:var(--card); border:1px solid var(--card-border);
  border-radius:14px; padding:12px; margin:10px 0;
}
.card .name{font-weight:800; margin-bottom:4px;}
.card .meta{color:var(--muted); font-size:14px;}
.card .desc{margin:8px 0 12px; color:#d9e5f3}

button,.ghost-btn,.primary-btn{
  border-radius:12px; padding:8px 12px; cursor:pointer; border:0;
}
.ghost-btn{background:#0e1a2d; color:#cfe6ff; border:1px solid var(--card-border);}
.primary-btn{background:#ffd166; color:#111; font-weight:800;}

.badge{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; background:#0e1a2d; border:1px solid var(--card-border);}
.badge .i{display:inline-block;width:10px;height:10px;border-radius:999px}

/* Map controls */
.map-controls{
  position:fixed; right:12px; bottom:12px; z-index:4;
  display:flex; flex-direction:column; gap:8px;
}
.map-controls button{
  width:44px; height:44px; border-radius:999px;
  background:rgba(15,22,33,.92); color:#fff; border:1px solid var(--card-border);
  font-size:20px; line-height:1;
}

/* Place card (bunnark) */
#placeCard{
  position:fixed; left:12px; right:12px; bottom:12px; z-index:3;
  background:var(--card); border:1px solid var(--card-border);
  border-radius:16px; padding:12px; display:none;
}
#placeCard[aria-hidden="false"]{display:block;}
.pc-head{display:flex; justify-content:space-between; align-items:center; gap:8px;}
.pc-title{font-weight:900; font-size:16px;}
.pc-meta{color:var(--muted)}
.pc-desc{margin:10px 0;}
.pc-actions{display:flex; gap:10px; flex-wrap:wrap;}
.pc-close{background:#0e1a2d; border:1px solid var(--card-border); color:#fff; border-radius:10px; padding:6px 10px}

/* Sheet */
.sheet{position:fixed; inset:0; z-index:6; background:rgba(0,0,0,.4); display:none;}
.sheet[aria-hidden="false"]{display:block;}
.sheet-card{position:absolute; left:0; right:0; bottom:0; background:var(--card); border:1px solid var(--card-border); border-radius:16px 16px 0 0; padding:12px}
.sheet-head{display:flex; justify-content:space-between; align-items:center;}
.sheet-close{background:#0e1a2d; border:1px solid var(--card-border); color:#fff; border-radius:10px; padding:6px 10px}

/* Quiz */
#quizModal{position:fixed; inset:0; z-index:7; background:rgba(0,0,0,.45); display:none;}
#quizModal[aria-hidden="false"]{display:block;}
.quiz-card{position:absolute; left:12px; right:12px; top:10%; background:var(--card); border:1px solid var(--card-border); border-radius:16px; padding:12px}
.quiz-head{display:flex; justify-content:space-between; align-items:center;}
.quiz-choices{display:grid; gap:10px; margin-top:10px}
.quiz-choices button{background:#0e1a2d; border:1px solid var(--card-border); color:#fff}
.quiz-choices button.correct{background:#2ecc71;color:#111}
.quiz-choices button.wrong{background:#e63946}

#toast{
  position:fixed; top:12px; left:50%; transform:translateX(-50%);
  background:#1f2a44; color:#cfe6ff; padding:8px 12px; border-radius:12px; border:1px solid var(--card-border);
  z-index:8; display:none;
}

/* Kart-modus: skjul hovedinnhold, la kartet styre */
body.map-only main, body.map-only header{display:none;}
body.map-only #placeCard{bottom:12px;}
